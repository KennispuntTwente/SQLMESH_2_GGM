# Alle configuratie gebeurt via .env â€” zie .env.example
# Dit bestand bij voorkeur niet bewerken

gateways:
  # Local development with PostgreSQL (default)
  local:
    connection:
      type: postgres
      host: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__HOST', 'localhost') }}
      port: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__PORT', '5432') }}
      database: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__DATABASE', 'ggm_dev') }}
      user: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__USERNAME', 'ggm') }}
      password: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__PASSWORD', 'ggm_dev') }}

  # Local development with DuckDB (no server needed)
  duckdb:
    connection:
      type: duckdb
      database: {{ env_var('DESTINATION__DUCKDB__CREDENTIALS', 'ggm_dev.db') }}

  # PostgreSQL
  postgres:
    connection:
      type: postgres
      host: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__HOST', 'localhost') }}
      port: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__PORT', '5432') }}
      database: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__DATABASE', 'ggm_dev') }}
      user: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__USERNAME', 'ggm') }}
      password: {{ env_var('DESTINATION__POSTGRES__CREDENTIALS__PASSWORD', 'ggm_dev') }}

  # MSSQL (requires ODBC Driver - same as dlt)
  mssql:
    connection:
      type: mssql
      host: {{ env_var('DESTINATION__MSSQL__CREDENTIALS__HOST', 'localhost') }}
      port: {{ env_var('DESTINATION__MSSQL__CREDENTIALS__PORT', '1433') }}
      database: {{ env_var('DESTINATION__MSSQL__CREDENTIALS__DATABASE', 'ggm_dev') }}
      user: {{ env_var('DESTINATION__MSSQL__CREDENTIALS__USERNAME', 'sa') }}
      password: {{ env_var('DESTINATION__MSSQL__CREDENTIALS__PASSWORD', 'GGM_Dev123!') }}
      driver: pyodbc
      driver_name: {{ env_var('DESTINATION__MSSQL__CREDENTIALS__DRIVER', 'ODBC Driver 18 for SQL Server') }}
      # Unified trust certificate setting (used by both dlt and SQLMesh)
      trust_server_certificate: {% if env_var('GGM_TRUST_SERVER_CERTIFICATE', 'true').lower() in ('true', '1', 'yes') %}true{% else %}false{% endif %}

  # MySQL
  mysql:
    connection:
      type: mysql
      host: {{ env_var('DESTINATION__SQLALCHEMY__CREDENTIALS__HOST', 'localhost') }}
      port: {{ env_var('DESTINATION__SQLALCHEMY__CREDENTIALS__PORT', '3306') }}
      database: {{ env_var('DESTINATION__SQLALCHEMY__CREDENTIALS__DATABASE', 'ggm_dev') }}
      user: {{ env_var('DESTINATION__SQLALCHEMY__CREDENTIALS__USERNAME', 'root') }}
      password: {{ env_var('DESTINATION__SQLALCHEMY__CREDENTIALS__PASSWORD', 'ggm_dev') }}

  # Cloud gateways - uncomment and configure as needed
  # snowflake:
  #   connection:
  #     type: snowflake
  #     account: {{ env_var('DESTINATION__SNOWFLAKE__CREDENTIALS__ACCOUNT', '') }}
  #     user: {{ env_var('DESTINATION__SNOWFLAKE__CREDENTIALS__USERNAME', '') }}
  #     password: {{ env_var('DESTINATION__SNOWFLAKE__CREDENTIALS__PASSWORD', '') }}
  #     database: {{ env_var('DESTINATION__SNOWFLAKE__CREDENTIALS__DATABASE', '') }}
  #     warehouse: {{ env_var('DESTINATION__SNOWFLAKE__CREDENTIALS__WAREHOUSE', '') }}
  #
  # bigquery:
  #   connection:
  #     type: bigquery
  #     project: {{ env_var('DESTINATION__BIGQUERY__CREDENTIALS__PROJECT_ID', '') }}
  #     location: {{ env_var('DESTINATION__BIGQUERY__CREDENTIALS__LOCATION', 'EU') }}

default_gateway: local

model_defaults:
  dialect: postgres
  start: "2024-01-01"
